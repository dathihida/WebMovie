<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"> </script>
  <script nomodule src="https://unpkg .com/ionicons@5.5.2/dist/ionicons/ionicons.js"> </script>
  <!-- <script src="js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css"> -->
  <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
  <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;400&display=swap" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/boosted@5.2.3/dist/fonts/HelvNeue55_W1G.woff2" rel="preload" as="font"
    type="font/woff2" integrity="sha384-R6e0PFLMMV6HBvkQK22ecNfjOzyh89wSndiTC71MuvoaOnhIYgOAGVC0gW0kVN16"
    crossorigin="anonymous">


  <link href="https://cdn.jsdelivr.net/npm/boosted@5.2.3/dist/css/orange-helvetica.min.css" rel="stylesheet"
    integrity="sha384-A0Qk1uKfS1i83/YuU13i2nx5pk79PkIfNFOVzTcjCMPGKIDj9Lqx9lJmV7cdBVQZ" crossorigin="anonymous">

  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0" />

  <link rel="stylesheet" th:href="@{|/css/header.css|}">
  <link rel="stylesheet" th:href="@{|/css/home.css|}">
  <link rel="stylesheet" th:href="@{|/css/details.css|}">
  <link rel="stylesheet" th:href="@{|/css/footer.css|}">
  <link rel="stylesheet" th:href="@{|/css/historyBooking.css|}">



  <title>MovieTime</title>
</head>

<body ng-app="app" ng-controller="controller">

  <div th:replace="~{/navbar/navbar}"></div>



  <section>
    <div class="container history_booking">
      <div class="title">
        <h3>Your movie ticket</h3>
      </div>
      <div class="row m-3" ng-repeat="b in BookingByIdCustomer">
        <div class="col-2 img_movie p-0">
          <div class="card-body d-flex justify-content-center align-items-center">
            <img th:src="@{|/images/{{b.id_MOVIE_SCHEDULED.id_MOVIE.image}}|}" class="card-img-top" alt="display error">
          </div>
        </div>
        <div class="info_history_booking col-8 d-flex flex-column p-0 gap-2">
          <div class="name_movie">
            <h5>{{b.id_MOVIE_SCHEDULED.id_MOVIE.name}}</h5>
          </div>
          <div class="info_booking">
            <div class="info_cinema d-flex flex-column">
              <span id="name_cinema"><label>Cinema: </label> {{b.id_MOVIE_SCHEDULED.id_ROOM.id_CINEMAS.name}}
                <em> - <a target="_blank"
                    href="https://www.google.com/maps/search/{{b.id_MOVIE_SCHEDULED.id_ROOM.id_CINEMAS.address}}">{{b.id_MOVIE_SCHEDULED.id_ROOM.id_CINEMAS.address}}</a></em></span>
              <span id="lp"><label>Type: </label> {{b.id_MOVIE_SCHEDULED.id_ROOM.name}} - <label>Room: </label>
                {{b.id_MOVIE_SCHEDULED.id_ROOM.id}} </span>
            </div>
            <div class="suat_chieu d-flex align-items-center gap-2">
              <label>Session : </label> <span> {{b.id_MOVIE_SCHEDULED.time_START}}</span>
              <label>-</label>
              <label>Date: </label> <span> {{b.date}}</span>
            </div>
            <div class="gia_trangthai d-flex align-items-center gap-5 mt-3">
              <div class="gia">
                <label>Ticket price: </label> <span> {{b.price}}</span>
              </div>
              <div class="trang_thai">
                <label>Payment status: </label> <span id="my-Status">{{b.status}}</span>
              </div>
              <div class="btn px-5">
                <a th:href="@{/checkout/{{b.id}}}">Detail</a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-2">

        </div>
      </div>
  </section>



  <table class="table table-bordered" hidden>
    <thead>
      <tr>
        <th>MovieName</th>
        <th>CINEMAS</th>
        <th>Room</th>
        <th>Date</th>
        <th>Price</th>
        <th>Status</th>
        <th>Payment</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="b in BookingByIdCustomer">
        <td>{{b.id_MOVIE_SCHEDULED.time_START}}</td>
        <td>{{b.id_MOVIE_SCHEDULED.id_MOVIE.name}}</td>
        <td>{{b.id_MOVIE_SCHEDULED.id_ROOM.id_CINEMAS.name}}</td>
        <td>{{b.id_MOVIE_SCHEDULED.id_ROOM.name}}</td>
        <td>{{b.date}}</td>
        <td>{{b.price}}</td>
        <td>{{b.status}}</td>
        <td>
          <a th:href="@{/checkout/{{b.id}}}">Detail</a>
        </td>
      </tr>
    </tbody>
  </table>



  <div th:replace="~{/navbar/_footer}"></div>


  <!-- js -->
  <script th:src="@{/js/booking.js}"></script>
  <script th:src="@{/js/layout/main.js}"></script>

  <!-- <script>
    const span = document.querySelector("#my-Status");
    const h3 = document.querySelector("#cccc");
    const string = h3.textContent;

    // Kiểm tra chuỗi ký tự
    if (string === "unpaid") {
      // Thay đổi màu chữ thành đỏ
      span.style.color = "yellow";
    } else if (string === "success") {
      span.style.color = "green";
    } else {
      span.style.color = "red";
    }
  </script> -->
</body>

</html>