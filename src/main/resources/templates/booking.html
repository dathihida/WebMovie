<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"> </script>
    <script nomodule src="https://unpkg .com/ionicons@5.5.2/dist/ionicons/ionicons.js"> </script>
    <!-- <script src="js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css"> -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
    <link href="https://getbootstrap.com/docs/5.2/assets/css/docs.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;400&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/boosted@5.2.3/dist/fonts/HelvNeue55_W1G.woff2" rel="preload" as="font"
        type="font/woff2" integrity="sha384-R6e0PFLMMV6HBvkQK22ecNfjOzyh89wSndiTC71MuvoaOnhIYgOAGVC0gW0kVN16"
        crossorigin="anonymous">


    <link href="https://cdn.jsdelivr.net/npm/boosted@5.2.3/dist/css/orange-helvetica.min.css" rel="stylesheet"
        integrity="sha384-A0Qk1uKfS1i83/YuU13i2nx5pk79PkIfNFOVzTcjCMPGKIDj9Lqx9lJmV7cdBVQZ" crossorigin="anonymous">

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0" />

    <link rel="stylesheet" th:href="@{|/css/header.css|}">
    <link rel="stylesheet" th:href="@{|/css/home.css|}">
    <link rel="stylesheet" th:href="@{|/css/details.css|}">
    <link rel="stylesheet" th:href="@{|/css/footer.css|}">


    <title>Booking</title>
</head>

<body ng-app="app" ng-controller="controller">
    <div th:replace="~{/navbar/navbar}"></div>

	<ul ng-repeat="row in seatRows">
      <li>Hàng {{ row.row }}:
          <span ng-repeat="seat in row.seats">
              <input type="checkbox" ng-model="seat.isSelected" ng-disabled="seat.isDisabled" ng-change="onSeatChange(seat)">
              {{ seat.seat_NUMBER }}
          </span>
      </li>
    </ul>
    <p>Tổng tiền: {{ totalAmount }}</p>
    <div ng-repeat = "mo in movie_ScheduledById">
	    <ul>
	    	<li>IdUser: {{userId}}</li>
	    	<li th:text="${#authentication.name}"></li>
	    	<li>IdRoom: {{idRoom}}</li>
	    	<li>IdMovieSchedueld: {{idMovieScheduled}}</li>
	    	<li>ToDay: {{form.date | date : 'yyyy-MM-dd'}}</li>
	    	<li ng-repeat = "ss in selectedSeats">
	    		SelectSeat: {{ss.id}} - {{ss.seat_ROW}}-{{ss.seat_NUMBER}}
	    		{{ss.seat_TYPE === 'VIP' ? 20 : (ss.seat_TYPE === 'ECO' ? 10 : ss.seat_TYPE)}}
	    	</li>
	    </ul>
    
    	{{mo.date}}
    	{{mo.id_MOVIE.name}}
    </div>
	<div>
		<h2>RESTful Booking - AngularJS</h2>
		<!--form-->
		<div>
			<input ng-model="form.id" type="hidden" />
			<br /> 
			<label>Id_Customers</label>
			<input ng-model="form.id_CUSTOMER.id" ng-value="form.id_CUSTOMER.id">
            <br /> 
            <label>IdMovieSchedueld</label>
            <input ng-model="form.id_MOVIE_SCHEDULED.id" ng-value="form.id_MOVIE_SCHEDULED.id">
			<br /> 
			<label>Date</label>
			<input ng-model="form.date" ng-value ="form.date | date:'yyyy-MM-dd' ">
			<br /> 
			<label>price</label>
			<input ng-model="form.price">
			<br /> 
			<hr />
			<button ng-click="createBooking()">Booking</button>
			<a th:href="@{/home/checkout/{{idRoom}}/{{day}}/{{timeStart}}/{{idMovieScheduled}}}">Datve</a>
		</div>
	</div>
    
    <!-- js -->
    <script th:src="@{/js/booking.js}"></script>
    
    <script th:src="@{/js/layout/main.js}"></script>
    <script th:src="@{/js/signup.js}"></script>
</body>

</html>